{"version":3,"sources":["../../../src/modal/modal-window.ts"],"names":[],"mappings":";;;;;;;;;OAAO,EACL,SAAS,EACT,MAAM,EACN,YAAY,EACZ,KAAK,EACL,UAAU,EACV,QAAQ,EACR,MAAM,EACN,aAAa,EACb,SAAS,EACV,MAAM,eAAe;AACtB,MAAM,SAAS,GAAqB,SAAS,CAAC,CAAE,mCAAmC;AACnF,MAAM,MAAM,GAAqB,MAAM,CAAC,CAAE,mCAAmC;AAC7E,MAAM,YAAY,GAAqB,YAAY,CAAC,CAAE,mCAAmC;AACzF,MAAM,KAAK,GAAqB,KAAK,CAAC,CAAE,mCAAmC;AAC3E,MAAM,UAAU,GAAqB,UAAU,CAAC,CAAE,mCAAmC;AACrF,MAAM,QAAQ,GAAqB,QAAQ,CAAC,CAAE,mCAAmC;AACjF,MAAM,MAAM,GAAqB,MAAM,CAAC,CAAE,mCAAmC;AAC7E,MAAM,aAAa,GAAqB,aAAa,CAAC,CAAE,mCAAmC;AAC3F,MAAM,SAAS,GAAqB,SAAS,CAAC,CAAE,mCAAmC;OAP5E,EAAA,mBAAE,EAAmB,MAAA,yBAAA;AAU5B,MAAM,mBAAmB,GAAqB,mBAAmB,CAAC,CAAE,mCAAmC;AAiBvG;IAUA;;;OAGG;IACH,YAZsB,MAAQ,EAAoB,SAAW;QAAvC,WAAA,GAAA,MAAA,CAAQ;QAAoB,cAAA,GAAA,SAAA,CAAW;QAPlD,aAAA,GAA6B,IAAA,CAAK;QAClC,aAAA,GAAW,IAAA,CAAK;QAIN,iBAAA,GAAe,IAAI,YAAA,EAAa,CAAE;IAEe,CAAA;IActE;;;OAGG;IACH,aAhBG,CAAA,MAAA;QAiBC,EAAE,CAAC,CAAC,IAhBC,CAAI,QAAC,KAAY,IAAA,IAAQ,IAAA,CAAK,MAAC,CAAM,aAAC,KAAiB,MAAA,CAAO,MAAC,CAAM,CAAC,CAAA;YAiBzE,IAAI,CAhBC,OAAC,CAAO,mBAAC,CAAmB,cAAC,CAAc,CAAC;QAiBnD,CAAC;IACH,CAAC;IACH;;;OAGG;IACH,MAnBG,CAAA,MAAA;QAoBC,EAAE,CAAC,CAAC,IAnBC,CAAI,QAAC,IAAW,CAAA,MAAE,CAAM,gBAAC,CAAgB,CAAC,CAAA;YAoB7C,IAAI,CAnBC,OAAC,CAAO,mBAAC,CAAmB,GAAC,CAAG,CAAC;QAoBxC,CAAC;IACH,CAAC;IACH;;;OAGG;IACH,OAtBG,CAAA,MAAA,IAAuB,IAAA,CAAK,YAAC,CAAY,IAAC,CAAI,MAAC,CAAM,CAAC,CAAC,CAAA;IAuB1D;;OAEG;IACH,QAxBG;QAyBC,IAAI,CAxBC,YAAC,GAAc,QAAA,CAAS,aAAC,CAAa;QAyB3C,IAAI,CAxBC,SAAC,CAAS,eAAC,CAAe,QAAC,CAAQ,IAAC,EAAK,YAAA,EAAc,IAAA,CAAK,CAAC;IAyBpE,CAAC;IACH;;OAEG;IACH,eA1BG;QA2BC,EAAE,CAAC,CAAC,CA1BC,IAAC,CAAI,MAAC,CAAM,aAAC,CAAa,QAAC,CAAQ,QAAC,CAAQ,aAAC,CAAa,CAAC,CAAC,CAAA;YA2B/D,IAAI,CA1BC,SAAC,CAAS,mBAAC,CAAmB,IAAC,CAAI,MAAC,CAAM,aAAC,EAAc,OAAA,EAAS,EAAA,CAAG,CAAC;QA2B7E,CAAC;IACH,CAAC;IACH;;OAEG;IACH,WA5BG;QA6BC,EAAE,CAAC,CAAC,IA5BC,CAAI,YAAC,IAAe,QAAA,CAAS,IAAC,CAAI,QAAC,CAAQ,IAAC,CAAI,YAAC,CAAY,CAAC,CAAC,CAAA;YA6BlE,IAAI,CA5BC,SAAC,CAAS,mBAAC,CAAmB,IAAC,CAAI,YAAC,EAAa,OAAA,EAAS,EAAA,CAAG,CAAC;QA6BrE,CAAC;QA5BC,IAAA,CAAK,CAAA;YA6BL,IAAI,CA5BC,SAAC,CAAS,mBAAC,CAAmB,QAAC,CAAQ,IAAC,EAAK,OAAA,EAAS,EAAA,CAAG,CAAC;QA6BjE,CAAC;QAED,IAAI,CA5BC,YAAC,GAAc,IAAA,CAAK;QA6BzB,IAAI,CA5BC,SAAC,CAAS,eAAC,CAAe,QAAC,CAAQ,IAAC,EAAK,YAAA,EAAc,KAAA,CAAM,CAAC;IA6BrE,CAAC;AACH,CAAC;AA/DC;IAX+B,iDAAA;IAW9B,KATC,EAAK;;gDAAA;AAUP;IAAC,KATC,EAAK;;gDAAA;AAUP;IAAC,KATC,EAAK;;4CAAA;AAUP;IAAC,KATC,EAAK;;mDAAA;AAWP;IAAC,MATC,CAAM,SAAC,CAAS;;oDAAA;AAhBpB;IADoE,mCAAmC,CARtG,SAAA,CAAA;QAUC,QAAQ,EAAE,kBAAkB;QAC5B,IAAI,EAAE;YACJ,SAAS,EAAE,4DAA4D;YACvE,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,IAAI;YAChB,OAAO,EAAE,iBAAiB;YAC1B,aAAa,EAAE,gBAAgB;YAC/B,SAAS,EAAE,uBAAuB;SACnC;QACD,QAAQ,EAAE;;;;KAIP;KACJ,CAAC;;kBAAA;AAsEF;IACA,uBAAuB;IACvB,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC;IACtC,+BAA+B;IAC/B,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC;IAClC,sBAAsB;IACtB,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC;IAClC,qBAAqB;IACrB,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC;IAC9B,qBAAqB;IACrB,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC;IACrC,+BAA+B;IAC/B,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC;IACtC,0BAA0B;IAC1B,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC;IAChC,wBAAwB;IACxB,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC;AACnC,CAAC","file":"modal-window.js","sourceRoot":"","sourcesContent":["import {\n  Component,\n  Output,\n  EventEmitter,\n  Input,\n  ElementRef,\n  Renderer,\n  OnInit,\n  AfterViewInit,\n  OnDestroy\n} from '@angular/core';\nconst Component: NeverTypeCheckMe = Component;  /* local alias for Closure JSDoc */\nconst Output: NeverTypeCheckMe = Output;  /* local alias for Closure JSDoc */\nconst EventEmitter: NeverTypeCheckMe = EventEmitter;  /* local alias for Closure JSDoc */\nconst Input: NeverTypeCheckMe = Input;  /* local alias for Closure JSDoc */\nconst ElementRef: NeverTypeCheckMe = ElementRef;  /* local alias for Closure JSDoc */\nconst Renderer: NeverTypeCheckMe = Renderer;  /* local alias for Closure JSDoc */\nconst OnInit: NeverTypeCheckMe = OnInit;  /* local alias for Closure JSDoc */\nconst AfterViewInit: NeverTypeCheckMe = AfterViewInit;  /* local alias for Closure JSDoc */\nconst OnDestroy: NeverTypeCheckMe = OnDestroy;  /* local alias for Closure JSDoc */\n\nimport {ModalDismissReasons} from './modal-dismiss-reasons';\nconst ModalDismissReasons: NeverTypeCheckMe = ModalDismissReasons;  /* local alias for Closure JSDoc */\n@Component({\n  selector: 'ngb-modal-window',\n  host: {\n    '[class]': '\"modal fade show\" + (windowClass ? \" \" + windowClass : \"\")',\n    'role': 'dialog',\n    'tabindex': '-1',\n    'style': 'display: block;',\n    '(keyup.esc)': 'escKey($event)',\n    '(click)': 'backdropClick($event)'\n  },\n  template: `\n    <div [class]=\"'modal-dialog' + (size ? ' modal-' + size : '')\" role=\"document\">\n        <div class=\"modal-content\"><ng-content></ng-content></div>\n    </div>\n    `\n})\nexport class NgbModalWindow implements OnInit,\n    AfterViewInit, OnDestroy {\nprivate _elWithFocus: Element;  // element that is focused prior to modal opening\n\n  @Input() backdrop: boolean | string = true;\n  @Input() keyboard = true;\n  @Input() size: string;\n  @Input() windowClass: string;\n\n  @Output('dismiss') dismissEvent = new EventEmitter();\n/**\n * @param {!ElementRef} _elRef\n * @param {!Renderer} _renderer\n */\nconstructor(private _elRef: ElementRef,\nprivate _renderer: Renderer) {}\n/**\n * @param {?} $event\n * @return {void}\n */\nbackdropClick($event): void {\n    if (this.backdrop === true && this._elRef.nativeElement === $event.target) {\n      this.dismiss(ModalDismissReasons.BACKDROP_CLICK);\n    }\n  }\n/**\n * @param {?} $event\n * @return {void}\n */\nescKey($event): void {\n    if (this.keyboard && !$event.defaultPrevented) {\n      this.dismiss(ModalDismissReasons.ESC);\n    }\n  }\n/**\n * @param {?} reason\n * @return {void}\n */\ndismiss(reason): void { this.dismissEvent.emit(reason); }\n/**\n * @return {void}\n */\nngOnInit() {\n    this._elWithFocus = document.activeElement;\n    this._renderer.setElementClass(document.body, 'modal-open', true);\n  }\n/**\n * @return {void}\n */\nngAfterViewInit() {\n    if (!this._elRef.nativeElement.contains(document.activeElement)) {\n      this._renderer.invokeElementMethod(this._elRef.nativeElement, 'focus', []);\n    }\n  }\n/**\n * @return {void}\n */\nngOnDestroy() {\n    if (this._elWithFocus && document.body.contains(this._elWithFocus)) {\n      this._renderer.invokeElementMethod(this._elWithFocus, 'focus', []);\n    } else {\n      this._renderer.invokeElementMethod(document.body, 'focus', []);\n    }\n\n    this._elWithFocus = null;\n    this._renderer.setElementClass(document.body, 'modal-open', false);\n  }\n}\n\nfunction NgbModalWindow_tsickle_Closure_declarations() {\n/** @type {!Element} */\nNgbModalWindow.prototype._elWithFocus;\n/** @type {(string|boolean)} */\nNgbModalWindow.prototype.backdrop;\n/** @type {boolean} */\nNgbModalWindow.prototype.keyboard;\n/** @type {string} */\nNgbModalWindow.prototype.size;\n/** @type {string} */\nNgbModalWindow.prototype.windowClass;\n/** @type {!EventEmitter<?>} */\nNgbModalWindow.prototype.dismissEvent;\n/** @type {!ElementRef} */\nNgbModalWindow.prototype._elRef;\n/** @type {!Renderer} */\nNgbModalWindow.prototype._renderer;\n}\n\n"]}